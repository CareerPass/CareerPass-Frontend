{"openapi":"3.0.1","info":{"title":"CareerPass API","description":"User 관련 API 문서","version":"v1"},"servers":[{"url":"http://13.125.192.47:8090","description":"Generated server url"}],"tags":[{"name":"User API","description":"User API for managing learning profile (nickname, email, major, target job)"}],"paths":{"/api/users":{"get":{"tags":["User API"],"summary":"Get all users","operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LearningProfileResponse"}}}}}}},"post":{"tags":["User API"],"summary":"Create a new user (email must be unique)","operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LearningProfileResponse"}}}}}}},"/api/introductions":{"get":{"tags":["introduction-controller"],"operationId":"listByUser","parameters":[{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Response"}}}}}}},"post":{"tags":["introduction-controller"],"operationId":"create","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}}}}},"/api/introduction-learning":{"post":{"tags":["introduction-learning-history-controller"],"operationId":"saveHistory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveIntroductionLearningHistoryRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/IntroductionLearningHistory"}}}}}}},"/api/interview/voice/analyze":{"post":{"tags":["ai-controller"],"operationId":"analyze","requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file","meta"],"type":"object","properties":{"meta":{"type":"string"},"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalysisResultDto"}}}}}}},"/api/interview/question-gen":{"post":{"tags":["question-gen-controller"],"operationId":"generate","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GenerateQuestionsRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/GenerateQuestionsResponse"}}}}}}},"/api/interview/audio":{"post":{"tags":["interview-controller"],"operationId":"registerInterview","parameters":[{"name":"userId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"jobApplied","in":"query","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InterviewResponseDto"}}}}}}},"/api/interview-learning":{"post":{"tags":["interview-learning-record-controller"],"operationId":"saveRecord","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveInterviewLearningRecordRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/InterviewLearningRecord"}}}}}}},"/api/feedback":{"post":{"tags":["feedback-controller"],"operationId":"create_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Response"}}}}}}},"/api/users/{id}/profile":{"patch":{"tags":["User API"],"summary":"Update user profile (nickname, major, target job only)","operationId":"updateUserProfile","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProfileRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LearningProfileResponse"}}}}}}},"/me":{"get":{"tags":["me-controller"],"operationId":"me","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/logout-success":{"get":{"tags":["auth-controller"],"operationId":"logoutSuccess","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object","additionalProperties":{"type":"object"}}}}}}}},"/health":{"get":{"tags":["me-controller"],"operationId":"health","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/users/{id}":{"get":{"tags":["User API"],"summary":"Get user by ID","operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LearningProfileResponse"}}}}}}},"/api/roadmap/major":{"get":{"tags":["roadmap-controller"],"operationId":"getMajorRoadmap","parameters":[{"name":"major","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Roadmap"}}}}}}}},"/api/roadmap/cert":{"get":{"tags":["roadmap-controller"],"operationId":"getCertificationRoadmap","parameters":[{"name":"major","in":"query","required":true,"schema":{"type":"string"}},{"name":"job","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Roadmap"}}}}}}}},"/api/introductions/{id}":{"get":{"tags":["introduction-controller"],"operationId":"get","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Response"}}}}}}},"/api/interview/voice/health":{"get":{"tags":["ai-controller"],"operationId":"health_1","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/feedback/{id}":{"get":{"tags":["feedback-controller"],"operationId":"get_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Response"}}}}}}},"/api/feedback/introduction/{introductionId}":{"get":{"tags":["feedback-controller"],"operationId":"listByIntroduction","parameters":[{"name":"introductionId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Response"}}}}}}}},"/api/feedback/interview/{interviewId}":{"get":{"tags":["feedback-controller"],"operationId":"listByInterview","parameters":[{"name":"interviewId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Response"}}}}}}}}},"components":{"schemas":{"CreateUserRequest":{"required":["email","major","nickname","targetJob"],"type":"object","properties":{"nickname":{"type":"string"},"email":{"type":"string"},"major":{"type":"string"},"targetJob":{"type":"string"}}},"LearningProfileResponse":{"type":"object","properties":{"nickname":{"type":"string"},"email":{"type":"string"},"major":{"type":"string"},"targetJob":{"type":"string"},"profileCompleted":{"type":"boolean"},"recentInterviews":{"type":"array","items":{"$ref":"#/components/schemas/RecentInterviewSummary"}},"recentIntroductions":{"type":"array","items":{"$ref":"#/components/schemas/RecentIntroductionSummary"}}}},"RecentInterviewSummary":{"type":"object","properties":{"interviewId":{"type":"integer","format":"int64"},"title":{"type":"string"},"score":{"type":"number","format":"double"},"date":{"type":"string"}}},"RecentIntroductionSummary":{"type":"object","properties":{"introductionId":{"type":"integer","format":"int64"},"title":{"type":"string"},"date":{"type":"string"}}},"CreateRequest":{"required":["introText","jobApplied","userId"],"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"jobApplied":{"maxLength":20,"minLength":0,"type":"string"},"introText":{"type":"string"},"submissionTime":{"type":"string","format":"date-time"}}},"Response":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"jobApplied":{"type":"string"},"introText":{"type":"string"},"submissionTime":{"type":"string","format":"date-time"}}},"SaveIntroductionLearningHistoryRequest":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"introductionId":{"type":"integer","format":"int64"},"questionCount":{"type":"integer","format":"int32"}}},"Introduction":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"jobApplied":{"type":"string"},"introText":{"type":"string"},"submissionTime":{"type":"string","format":"date-time"},"introLength":{"type":"integer","format":"int32"}}},"IntroductionLearningHistory":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"introduction":{"$ref":"#/components/schemas/Introduction"},"questionCount":{"type":"integer","format":"int32"},"learnedAt":{"type":"string","format":"date-time"}}},"AnalysisResultDto":{"type":"object","properties":{"interviewId":{"type":"integer","description":"인터뷰 ID","format":"int64","example":1},"questionId":{"type":"string","description":"질문 ID","example":"q-1"},"userId":{"type":"integer","description":"사용자 ID","format":"int64","example":10},"answerText":{"type":"string","description":"Whisper로부터 받은 전사 텍스트"}},"description":"음성 → 텍스트 변환 결과"},"GenerateQuestionsRequest":{"required":["userId"],"type":"object","properties":{"userId":{"type":"integer","description":"유저 ID","format":"int64","example":10},"coverLetter":{"type":"string","description":"지원자의 자기소개서 본문(선택). 비어 있으면 학습 프로필 정보만으로 질문 생성","example":"저는 백엔드 개발자로 성장하기 위해..."}},"description":"면접 질문 생성 요청 DTO"},"GenerateQuestionsResponse":{"type":"object","properties":{"major":{"type":"string","description":"지원 전공 또는 학과명","example":"컴퓨터공학과"},"jobTitle":{"type":"string","description":"지원 직무명","example":"백엔드 개발자"},"generatedAt":{"type":"string","description":"질문이 생성된 시각 (UTC 기준)","format":"date-time","example":"2025-11-12T12:34:56Z"},"questions":{"type":"array","description":"생성된 면접 질문 리스트","items":{"$ref":"#/components/schemas/QuestionItemDto"}}},"description":"면접 질문 생성 응답"},"QuestionItemDto":{"type":"object","properties":{"questionId":{"type":"string","description":"질문 고유 ID","example":"q-1"},"text":{"type":"string","description":"질문 내용","example":"자기소개를 해주세요."}},"description":"질문 항목"},"InterviewResponseDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64","example":1},"fileUrl":{"type":"string","example":"https://s3.aws.com/interview/file123.m4a"},"status":{"type":"string","example":"BEFANALYSE"},"jobApplied":{"type":"string","example":"백엔드 개발자"},"userId":{"type":"integer","format":"int64","example":5},"requestTime":{"type":"string","format":"date-time"},"finishTime":{"type":"string","format":"date-time"}},"description":"면접 업로드 응답 DTO"},"SaveInterviewLearningRecordRequest":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"questionId":{"type":"integer","format":"int64"},"audioUrl":{"type":"string"},"answerText":{"type":"string"},"analysisResult":{"type":"string"},"durationMs":{"type":"integer","format":"int64"}}},"InterviewLearningRecord":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"userId":{"type":"integer","format":"int64"},"question":{"$ref":"#/components/schemas/Question"},"audioUrl":{"type":"string"},"answerText":{"type":"string"},"analysisResult":{"type":"string"},"durationMs":{"type":"integer","format":"int64"},"learnedAt":{"type":"string","format":"date-time"}}},"Question":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"questionText":{"type":"string"},"introduction":{"$ref":"#/components/schemas/Introduction"},"orderIndex":{"type":"integer","format":"int32"},"major":{"type":"string"},"jobTitle":{"type":"string"}}},"UpdateProfileRequest":{"type":"object","properties":{"nickname":{"type":"string"},"major":{"type":"string"},"targetJob":{"type":"string"}}},"Roadmap":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"roadmapType":{"type":"string","enum":["CERTIFICATION","MAJOR"]},"major":{"type":"string"},"job":{"type":"string"},"majorName":{"type":"string"},"certName":{"type":"string"},"grade":{"type":"integer","format":"int64"}}}}}}